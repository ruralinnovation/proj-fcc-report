---
title: "FCC Funding Map"
date: last-modified
format: 
  html:
    code-fold: true
engine: knitr
---
```{r}
#| label: utility functions
source("R/table_with_options.R")
```

Link: https://fundingmap.fcc.gov/home

Documentation: https://us-fcc.app.box.com/v/bfm-data-downloads-output

The download page has two tabs:

- [Funding data](https://fundingmap.fcc.gov/data-download/funding-data)

- [Unserved/unfunded](https://fundingmap.fcc.gov/data-download/unserved-data)

# Funding data

## Program Data 

It is organized by Agency and can be downloaded by program (`fundingdata_projectXXXX`) or for all projects in a program  (`fundingdata_programXX`).

it will have a `csv` about the program. For example RDOF is just a two rows csv, header included.

## Project Data

They are defining 3 types of projects: 

- Defined by Area

- Defined by list of locations

- Defined by Middle Mile

All of those type of project will have a Project Attribute Information table (`areaattributes_program` or `locationattributes_program`). The structure of those files are close but not similar for example location project has columns related to location (`build_req`, `loc_plan`, `loc_sup`). 

For example the one for RDOF (`areaattributes_program24_J23_12feb2024.csv`) has 474 rows (inclunding headers ie 473 projects). 

Area project will have an associated `areapolygons_XXX.gpkg`. A quick glance on the one from RDOF show full valid geometries with an expected number of rows (473).

Location projects have, instead, of a `gpkg` a `csv` with location_id and lat/long (and address)!

It seems that you can also have buildout data associated which each type of project. 

## List of dataset avalaible: 07-03-2024

```{r}
#|  label: very ugly code that do the job
agency_name <- "Federal Communications Commission"
program_name <- c("Bringing Puerto Rico Together",
                "Connect America Fund Phase II",
                "Connect USVI", 
                "Enhanced Alternative Connect America Cost Model",
                "Rural Digital Opportunity Fund")
program_id <-  c("25", "28", "26", "35", "24")
fcc_dat <- data.frame(agency_name = rep(agency_name, length(program_name)),
                     program_name,
                     program_id 
                      )
agency_name <- "NTIA"
program_name <- c(
  "Broadband Infrastructure Program",
  "Tribal Broadband Connectivity Program NOFO 1"
)
program_id <-  c("11", "27")
ntia_dat <- data.frame(agency_name = rep(agency_name, length(program_name)), 
                      program_name,
                      program_id 
                      )
agency_name <- "Rural Utilities Service"
program_name <- c(
  "COMMUNITY CONNECT GRANT PROGRAM",
  "RURAL ECONNECTIVITY PROGRAM",
  "TELEPHONE LOAN PROGRAM"
)
program_id <-  c("10", "6", "12")
rural_dat <- data.frame(agency_name = rep(agency_name, length(program_name)), 
                      program_name,
                      program_id 
                      )
agency_name <- "US Department of Treasury"
program_name <- c(
  "Capital Projects Fund",
  "State and Local Fiscal Recovery Fund"
)
program_id <-  c("18", "19")
usdt_dat <- data.frame(agency_name = rep(agency_name, length(program_name)), 
                      program_name,
                      program_id 
                      )

fcc_all_dat <- rbind(fcc_dat, ntia_dat, rural_dat, usdt_dat )
table_with_options(fcc_all_dat)
```



